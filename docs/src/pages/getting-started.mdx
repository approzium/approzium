---
name: Getting Started
edit: false
route: /getting-started
---

# Getting Started
This guide will show you how to
- deploy Authenticator
- store credentials in Vault to be retrieved by authenticator
- install Approzium Python SDK
- connect to a postgres database through Approzium

## Deploying Authenticator

In the following command, we specify environment variable `LOCAL_VAULT=true` to bring up 
```shell
docker run -e VAULT_ADDRESS=true approzium/authenticator
```

```shell
docker run -e approzium/authenticator-vault
```

### Storing Credentials in Vault
Here we are using Vault with the `kv` secrets engine, please refer to [Vault's documentation](https://www.vaultproject.io/docs/secrets/kv/kv-v1) for more information .
```
vault kv put approzium/1.2.3.4:5432 dbuser1=@dbuser1-creds.json
```

## SDK Usage
Install the SDK
```
pip install approzium
```


```python
# client.py

from approzium import Authenticator
from approzium.psycopg2 import connect

# create an Authenticator client
auth = Authenticator('authenticator:1234')

# connect using Approzium's connect method
conn = connect("", authenticator=auth)

# use the connection cas you typically would. very cool!
cur = conn.cursor()
cur.execute('SELECT 1')
```

Enable Vault KV Version 1:
"$ vault secrets enable -path=approzium -version=1 kv"

Create a test secret body:
"$ nano test-secret.json"
{
    "password": "asdfghjkl",
    "iam_roles": [
        "arn:aws:iam::accountid:role/rolename1",
        "arn:aws:iam::accountid:role/rolename2"
    ]
}
"$ vault kv put approzium/localhost:5432 dbuser1=@test-secret.json"