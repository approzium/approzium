---
name: Configuration
edit: false
route: /configuration
---

# Configuration

| Name, shorthand    | Environment variable       | Default    | Description                                                                                                                                                                                                                                                                                                                                                               |
|--------------------|----------------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| --host             | APPROZIUM_HOST             | 127.0.0.1  |                                                                                                                                                                                                                                                                                                                                                                           |
| --http_port        | APPROZIUM_HTTP_PORT        | 6000       | Port for HTTP(S) API endpoints.                                                                                                                                                                                                                                                                                                                                           |
| --grpc_port        | APPROZIUM_GRPC_PORT        | 6001       | Port for authenticator endpoint for clients.                                                                                                                                                                                                                                                                                                                              |
| --log_level        | APPROZIUM_LOG_LEVEL        | info       | Supported selections are "trace", "debug", "info", "warn", "error", "fatal", and "panic". Upper case may be used.                                                                                                                                                                                                                                                         |
| --log_format       | APPROZIUM_LOG_FORMAT       | text       | Also supports "json".                                                                                                                                                                                                                                                                                                                                                     |
| --log_raw          | APPROZIUM_LOG_RAW          | false      | Approzium's logs mask sensitive data. Setting to "true" activates raw logs, so no sensitive values will be masked. For example, if set to "true", the AWS signed_get_caller_identity string will be fully included in logs, presenting an opportunity for a viewer to impersonate another. Should only be set to "true" in environments where logs are carefully guarded. |
| --vault_token_path | APPROZIUM_VAULT_TOKEN_PATH |            | Optional, if set it will cause the latest Vault token to always be pulled from the given file.                                                                                                                                                                                                                                                                            |
| --config           | APPROZIUM_CONFIG_FILE_PATH | config.yml | Optional, if set it will read configuration parameters from given YAML file. Those values take lower priority over environment variables.                                                                                                                                                                                                                                 |

Approzium uses the following precedence order. Each item takes precedence over the item below it:

 - flag
 - environment variable
 - config
 - default

# Approzium Vault Backend

Approzium supports Vault for storing database credentials. To use Vault, at a minimum, the `VAULT_ADDR`
must be set. Either the `VAULT_TOKEN` or `APPROZIUM_VAULT_TOKEN_PATH` must be set, with the `VAULT_TOKEN`
taking precedence. We recommend using the `APPROZIUM_VAULT_TOKEN_PATH` with the Vault agent, as described
[here](https://learn.hashicorp.com/vault/identity-access-management/vault-agent-aws), because that approach
will allow the Vault token to be refreshed by the Vault agent, rather than eventually expiring.

Additional Vault configuration is supported, as described
[here](https://www.vaultproject.io/docs/commands#environment-variables).
